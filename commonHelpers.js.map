{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\nconst form = document.querySelector('.formForSearch');\nconst input = form.querySelector('.inputForSearch');\nconst button = form.querySelector('.btnForSearch');\nconst boxForContent = document.querySelector('.gallery');\nlet lightbox = new SimpleLightbox('.gallery a.lightbox');\nconst loader = document.querySelector('.loader');\n\n\nform.addEventListener('submit', function (e) {\n    e.preventDefault();\n    const searchTerm = input.value.trim();\n    showLoader();\n    if (searchTerm !== \"\") {\n        searchImages(searchTerm);\n    } else {\n         iziToast.error({\n         title: 'Error',\n         message: 'Please enter a search term.',  \n    });\n    hideLoader();\n    }\n    \n})\n\n\n\nasync function searchImages(query) {\n    const API_KEY = \"41507262-89b1b811a4183d0df8899cf35\";\n    const API_URL = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await fetch(API_URL);\n        if (!response.ok) {\n            throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        \n        const dataFromServer = await response.json();\n        if (dataFromServer.hits.length > 0) {\n            iziToast.success({\n                title: 'OK',\n               message: 'We were able to fetch some data.!',\n               });\n               displayImages(dataFromServer.hits);\n               lightbox.refresh();\n            \n        }else{\n            iziToast.info({\n                title: 'Info',\n                message: 'Sorry, there are no images matching your search query. Please try again.',\n              });\n        }\n\n    } catch (error) {\n         iziToast.error({\n         title: 'Error',\n         message: 'Sorry, An error occurred while fetching images, Please try again later.',\n    });\n    } finally{\n        hideLoader();\n    }\n    \n}\n\nfunction displayImages(images){\n    boxForContent.innerHTML = \"\";\n\n    const newContent = images.map(e=>{\n        return  `<div class=\"gallery-item\">\n        <a href=\"${e.largeImageURL}\" class=\"lightbox\" data-lightbox=\"gallery\">\n        <img class=\"gallery-image\" src=\"${e.webformatURL}\" alt=\"${e.tags}\">\n        </a>\n        <div class=\"info\">\n            <div class=\"stat\">\n                <h3>Likes</h3>\n                <p>${e.likes}</p>\n            </div>\n            <div class=\"stat\">\n                <h3>Views</h3>\n                <p>${e.views }</p>\n            </div>\n            <div class=\"stat\">\n                <h3>Comments</h3>\n                <p>${e.comments }</p><p></p>\n            </div>\n            <div class=\"stat\">\n                <h3>Downloads</h3>\n                <p>${e.downloads }</p>\n            </div>\n        </div>\n        </div>`;\n    }).join('');\n    boxForContent.insertAdjacentHTML('beforeend', newContent);\n     \n\n}\n\n\n\nfunction showLoader() {\n    loader.style.display = 'block'\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}"],"names":["form","input","boxForContent","lightbox","SimpleLightbox","loader","e","searchTerm","showLoader","searchImages","iziToast","hideLoader","query","API_URL","response","dataFromServer","displayImages","images","newContent"],"mappings":"wvBAYA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQD,EAAK,cAAc,iBAAiB,EACnCA,EAAK,cAAc,eAAe,EACjD,MAAME,EAAgB,SAAS,cAAc,UAAU,EACvD,IAAIC,EAAW,IAAIC,EAAe,qBAAqB,EACvD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAG/CL,EAAK,iBAAiB,SAAU,SAAUM,EAAG,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAaN,EAAM,MAAM,KAAI,EACnCO,IACID,IAAe,GACfE,EAAaF,CAAU,GAEtBG,EAAS,MAAM,CACf,MAAO,QACP,QAAS,6BAClB,CAAK,EACDC,IAGJ,CAAC,EAID,eAAeF,EAAaG,EAAO,CAE/B,MAAMC,EAAU,qEAA6CD,4DAE7D,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAO,EACpC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,uBAAuBA,EAAS,QAAQ,EAG5D,MAAMC,EAAiB,MAAMD,EAAS,OAClCC,EAAe,KAAK,OAAS,GAC7BL,EAAS,QAAQ,CACb,MAAO,KACR,QAAS,mCACxB,CAAgB,EACDM,EAAcD,EAAe,IAAI,EACjCZ,EAAS,QAAO,GAGnBO,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EACzB,CAAe,CAGV,MAAC,CACGA,EAAS,MAAM,CACf,MAAO,QACP,QAAS,yEAClB,CAAK,CACL,QAAa,CACLC,GACH,CAEL,CAEA,SAASK,EAAcC,EAAO,CAC1Bf,EAAc,UAAY,GAE1B,MAAMgB,EAAaD,EAAO,IAAIX,GAClB;AAAA,mBACGA,EAAE;AAAA,0CACqBA,EAAE,sBAAsBA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,qBAK/CA,EAAE;AAAA;AAAA;AAAA;AAAA,qBAIFA,EAAE;AAAA;AAAA;AAAA;AAAA,qBAIFA,EAAE;AAAA;AAAA;AAAA;AAAA,qBAIFA,EAAE;AAAA;AAAA;AAAA,eAIlB,EAAE,KAAK,EAAE,EACVJ,EAAc,mBAAmB,YAAagB,CAAU,CAG5D,CAIA,SAASV,GAAa,CAClBH,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASM,GAAa,CAClBN,EAAO,MAAM,QAAU,MAC3B"}